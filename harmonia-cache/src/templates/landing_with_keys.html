<div class="max-w-3xl mx-auto px-4 py-12">
  <!-- Header -->
  <header class="mb-12">
    <h1 class="text-3xl font-bold text-gray-900 mb-2">[[name]]</h1>
    <p class="text-gray-600">Nix Binary Cache</p>
    <p class="text-sm text-gray-400 mt-1">v[[version]]</p>
  </header>

  <!-- Public Key Section -->
  <section class="mb-10">
    <h2 class="text-lg font-semibold text-gray-800 mb-3">Public Key</h2>
    <pre class="bg-gray-900 text-gray-100 p-4 rounded text-sm font-mono overflow-x-auto">[[public_keys_cli]]</pre>
  </section>

  <!-- Configuration Section -->
  <section class="mb-10">
    <h2 class="text-lg font-semibold text-gray-800 mb-4">Configuration</h2>

    <!-- Command Line -->
    <div class="mb-6">
      <h3 class="text-sm font-medium text-gray-700 mb-2">Command line</h3>
      <pre class="bg-gray-900 text-gray-100 p-4 rounded text-sm font-mono overflow-x-auto whitespace-pre-wrap">nix build \
  --extra-substituters '[[cache_url]]' \
  --extra-trusted-public-keys '[[public_keys_cli]]'</pre>
    </div>

    <!-- nix.conf -->
    <div class="mb-6">
      <h3 class="text-sm font-medium text-gray-700 mb-2">~/.config/nix/nix.conf or /etc/nix/nix.conf</h3>
      <pre class="bg-gray-900 text-gray-100 p-4 rounded text-sm font-mono overflow-x-auto">extra-substituters = [[cache_url]]
extra-trusted-public-keys = [[public_keys]]</pre>
    </div>

    <!-- NixOS -->
    <div class="mb-6">
      <h3 class="text-sm font-medium text-gray-700 mb-2">NixOS configuration</h3>
      <pre class="bg-gray-900 text-gray-100 p-4 rounded text-sm font-mono overflow-x-auto">{
  nix.settings = {
    substituters = [ "[[cache_url]]" ];
    trusted-public-keys = [ "[[public_keys]]" ];
  };
}</pre>
    </div>

    <!-- Flake -->
    <div class="mb-6">
      <h3 class="text-sm font-medium text-gray-700 mb-2">flake.nix</h3>
      <pre class="bg-gray-900 text-gray-100 p-4 rounded text-sm font-mono overflow-x-auto">{
  nixConfig = {
    extra-substituters = [ "[[cache_url]]" ];
    extra-trusted-public-keys = [ "[[public_keys]]" ];
  };
}</pre>
    </div>
  </section>

  <!-- Endpoints Section -->
  <section class="mb-10">
    <h2 class="text-lg font-semibold text-gray-800 mb-4">Endpoints</h2>
    <div class="space-y-2 text-sm">
      <div class="flex">
        <a href="/nix-cache-info" class="font-mono text-nix-blue hover:underline w-48">/nix-cache-info</a>
        <span class="text-gray-600">Cache metadata</span>
      </div>
      <div class="flex">
        <span class="font-mono text-gray-700 w-48">/&lt;hash&gt;.narinfo</span>
        <span class="text-gray-600">Package info and signatures</span>
      </div>
      <div class="flex">
        <span class="font-mono text-gray-700 w-48">/nar/&lt;hash&gt;.nar</span>
        <span class="text-gray-600">NAR archives</span>
      </div>
      <div class="flex">
        <span class="font-mono text-gray-700 w-48">/&lt;hash&gt;.ls</span>
        <span class="text-gray-600">Package file listing</span>
      </div>
      <div class="flex">
        <span class="font-mono text-gray-700 w-48">/log/&lt;drv&gt;</span>
        <span class="text-gray-600">Build logs</span>
      </div>
      <div class="flex">
        <a href="/version" class="font-mono text-nix-blue hover:underline w-48">/version</a>
        <span class="text-gray-600">Version info</span>
      </div>
      <div class="flex">
        <a href="/health" class="font-mono text-nix-blue hover:underline w-48">/health</a>
        <span class="text-gray-600">Health check</span>
      </div>
      <div class="flex">
        <a href="/metrics" class="font-mono text-nix-blue hover:underline w-48">/metrics</a>
        <span class="text-gray-600">Prometheus metrics</span>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="text-sm text-gray-500 border-t pt-6">
    <p>Store: <code class="bg-gray-100 px-1 rounded">[[store]]</code> · Priority: [[priority]]</p>
    <p class="mt-2">
      <a href="[[homepage]]" class="text-nix-blue hover:underline">[[name]]</a> — High-performance Nix binary cache
    </p>
  </footer>
</div>
